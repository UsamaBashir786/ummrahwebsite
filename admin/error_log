[29-Apr-2025 05:40:56 UTC] PHP Fatal error:  Uncaught Error: Call to undefined method mysqli_stmt::get_result() in /home/trending/public_html/umrahpartner.com/admin/index.php:40
Stack trace:
#0 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/index.php on line 40
[29-Apr-2025 07:22:21 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 07:22:21 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 07:30:05 UTC] PHP Warning:  Undefined array key "admin_id" in /home/trending/public_html/umrahpartner.com/admin/users.php on line 29
[29-Apr-2025 07:32:59 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 07:32:59 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 07:33:14 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 07:33:14 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 07:33:38 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 07:33:38 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 07:33:43 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 07:33:43 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 07:35:35 UTC] Hotel 13: Uploaded 1 images. Primary image: uploads/hotels/13/hotel_68108147b7c18.png
[29-Apr-2025 07:37:29 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 07:37:29 UTC] Number of hotel bookings retrieved: 1
[29-Apr-2025 07:37:29 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 07:37:29 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 07:37:38 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 07:37:38 UTC] Number of hotel bookings retrieved: 1
[29-Apr-2025 07:37:38 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 07:37:38 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 07:37:41 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 07:37:41 UTC] Number of hotel bookings retrieved: 1
[29-Apr-2025 07:37:41 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 07:37:41 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 07:43:25 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 07:43:25 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 07:43:25 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 07:43:25 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 07:43:28 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 07:43:28 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 07:43:28 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 07:43:28 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 07:43:38 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 07:43:38 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 07:43:38 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 07:43:38 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 07:44:05 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 07:44:05 UTC] Number of package bookings retrieved: 0
[29-Apr-2025 07:44:05 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 07:44:05 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 07:44:51 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 22
[29-Apr-2025 07:44:51 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 28
[29-Apr-2025 07:44:51 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 34
[29-Apr-2025 07:44:51 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 45
[29-Apr-2025 07:46:29 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 07:46:29 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 07:46:29 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 07:46:29 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 07:46:36 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 07:46:36 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 07:46:36 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 07:46:36 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 07:46:38 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 07:46:42 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 07:46:45 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 07:46:45 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 07:46:45 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 07:46:45 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 07:46:48 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 07:46:50 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 07:46:50 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 07:46:50 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 07:46:50 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:10:19 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 08:10:19 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 08:10:19 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 08:10:19 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 08:13:33 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 08:13:33 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 08:15:07 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 08:15:07 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 08:17:56 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 08:17:56 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 08:17:56 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 08:17:56 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 08:18:09 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 08:18:09 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 08:18:09 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 08:18:09 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 08:20:30 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 22
[29-Apr-2025 08:20:30 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 28
[29-Apr-2025 08:20:30 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 34
[29-Apr-2025 08:20:30 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 45
[29-Apr-2025 08:22:11 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:22:11 UTC] Number of package bookings retrieved: 2
[29-Apr-2025 08:22:11 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:22:11 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:22:50 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:22:50 UTC] Number of package bookings retrieved: 2
[29-Apr-2025 08:22:50 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:22:50 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:22:53 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:22:55 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:23:23 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 08:23:23 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 08:23:23 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 08:23:23 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 08:23:42 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 08:23:42 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 08:23:49 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:23:49 UTC] Number of package bookings retrieved: 2
[29-Apr-2025 08:23:49 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:23:49 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:24:13 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 08:24:13 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 08:24:13 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 08:24:13 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 08:32:49 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 22
[29-Apr-2025 08:32:49 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 28
[29-Apr-2025 08:32:49 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 34
[29-Apr-2025 08:32:49 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 45
[29-Apr-2025 08:33:16 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 22
[29-Apr-2025 08:33:16 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 28
[29-Apr-2025 08:33:16 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 34
[29-Apr-2025 08:33:16 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 45
[29-Apr-2025 08:35:00 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 08:35:00 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 08:35:00 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 08:35:00 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 08:45:09 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 20
[29-Apr-2025 08:45:09 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 26
[29-Apr-2025 08:45:09 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 32
[29-Apr-2025 08:45:09 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 43
[29-Apr-2025 08:46:09 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/edit-package.php on line 42
[29-Apr-2025 08:46:09 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/edit-package.php on line 48
[29-Apr-2025 08:46:09 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/edit-package.php on line 54
[29-Apr-2025 08:46:09 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/edit-package.php on line 65
[29-Apr-2025 08:46:25 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 20
[29-Apr-2025 08:46:25 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 26
[29-Apr-2025 08:46:25 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 32
[29-Apr-2025 08:46:25 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 43
[29-Apr-2025 08:50:42 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 20
[29-Apr-2025 08:50:42 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 26
[29-Apr-2025 08:50:42 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 32
[29-Apr-2025 08:50:42 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 43
[29-Apr-2025 08:52:48 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 20
[29-Apr-2025 08:52:48 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 26
[29-Apr-2025 08:52:48 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 32
[29-Apr-2025 08:52:48 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 43
[29-Apr-2025 08:54:21 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:54:21 UTC] Number of package bookings retrieved: 0
[29-Apr-2025 08:54:21 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:54:21 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:55:27 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:55:27 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 08:55:27 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:55:27 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:55:31 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:55:31 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 08:55:31 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:55:31 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:55:35 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:55:39 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:55:41 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:55:41 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 08:55:41 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:55:41 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:55:54 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:56:00 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:56:07 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:56:07 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 08:56:07 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:56:07 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:56:16 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 08:56:16 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 08:56:38 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:56:44 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:57:04 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 08:57:04 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 08:57:04 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 08:57:04 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 08:57:09 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 08:57:09 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 08:57:09 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 08:57:09 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 08:57:26 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:57:26 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 08:57:26 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:57:26 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:57:47 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:57:49 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:57:49 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 08:57:49 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:57:49 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:58:10 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:58:10 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 08:58:10 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:58:10 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:58:13 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:58:13 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 08:58:13 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:58:13 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:58:29 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:58:39 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 08:58:39 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 08:58:54 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:58:54 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 08:58:54 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:58:54 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:59:06 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:59:14 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 08:59:14 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 08:59:19 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 08:59:19 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 08:59:29 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 08:59:29 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 08:59:29 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 08:59:29 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 08:59:31 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:57
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(57): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 57
[29-Apr-2025 08:59:52 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 08:59:52 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 08:59:52 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 08:59:52 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:00:11 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:00:11 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 09:00:11 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:00:11 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:00:43 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:00:43 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 09:00:43 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:00:43 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:03:25 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:98
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(98): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 98
[29-Apr-2025 09:03:31 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:03:31 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 09:03:31 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as payment_completed,
                   COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:03:31 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:03:35 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Data truncated for column 'payment_status' at row 1 in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php:98
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-packages.php(98): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-packages.php on line 98
[29-Apr-2025 09:06:13 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:06:13 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 09:06:13 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:06:13 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:06:25 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:06:25 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 09:06:25 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:06:25 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:06:42 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 20
[29-Apr-2025 09:06:42 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 26
[29-Apr-2025 09:06:42 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 32
[29-Apr-2025 09:06:42 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 43
[29-Apr-2025 09:06:51 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:06:51 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 09:06:51 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:06:51 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:07:09 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:07:09 UTC] Number of package bookings retrieved: 2
[29-Apr-2025 09:07:09 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:07:09 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:07:17 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:07:17 UTC] Number of package bookings retrieved: 2
[29-Apr-2025 09:07:17 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:07:17 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:07:19 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:07:19 UTC] Number of package bookings retrieved: 2
[29-Apr-2025 09:07:19 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:07:19 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:07:51 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:07:51 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 09:07:51 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:07:51 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:08:44 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:08:44 UTC] Number of transportation bookings retrieved: 0
[29-Apr-2025 09:08:44 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:08:44 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:09:06 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:09:06 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 09:09:06 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:09:06 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:12:13 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:12:13 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:13:30 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:13:30 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 09:13:30 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:13:30 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Unknown column 'payment_status' in 'SELECT' in /home/trending/public_html/umrahpartner.com/admin/booked-transportation.php:250
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-transportation.php(250): mysqli->query('SELECT \r\n      ...')
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-transportation.php on line 250
[29-Apr-2025 09:13:49 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:13:49 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 09:13:49 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   COALESCE(SUM(price), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:13:49 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:16:32 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:16:32 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:16:47 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:16:47 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 09:16:47 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:16:47 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:16:50 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:16:50 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:16:52 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:16:52 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:17:15 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:17:15 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:17:32 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:17:32 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 09:17:32 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:17:32 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:17:37 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:17:37 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 09:17:37 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:17:37 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:17:39 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:17:39 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 09:17:39 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:17:39 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:23:02 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:23:02 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 09:23:02 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:23:02 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:23:07 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:23:07 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 09:23:07 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:23:07 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:23:10 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:23:10 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 09:23:10 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:23:10 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:24:37 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:24:37 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:25:23 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:25:23 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:25:33 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:25:33 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:28:08 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:28:08 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:28:44 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:28:44 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:28:49 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:28:49 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:28:54 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:28:54 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:29:24 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 09:29:24 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 09:31:36 UTC] Hotel 14: Uploaded 1 images. Primary image: uploads/hotels/14/hotel_68109c787bb5f.jpg
[29-Apr-2025 09:33:03 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 09:33:03 UTC] Number of hotel bookings retrieved: 2
[29-Apr-2025 09:33:03 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 09:33:03 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 09:33:10 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 09:33:10 UTC] Number of hotel bookings retrieved: 2
[29-Apr-2025 09:33:10 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 09:33:10 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 09:33:13 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 09:33:13 UTC] Number of hotel bookings retrieved: 2
[29-Apr-2025 09:33:13 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 09:33:13 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 09:33:46 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 20
[29-Apr-2025 09:33:46 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 26
[29-Apr-2025 09:33:46 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 32
[29-Apr-2025 09:33:46 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 43
[29-Apr-2025 09:34:50 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:34:50 UTC] Number of package bookings retrieved: 3
[29-Apr-2025 09:34:50 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:34:50 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:34:58 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:34:58 UTC] Number of package bookings retrieved: 3
[29-Apr-2025 09:34:58 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:34:58 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:35:00 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:35:00 UTC] Number of package bookings retrieved: 3
[29-Apr-2025 09:35:00 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:35:00 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:35:16 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:35:16 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 09:35:16 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:35:16 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:40:45 UTC] Taxi Routes POST Data: Array
(
    [update_taxi_routes] => 1
    [serviceTitle] => Best Taxi Service for Umrah and Hajj
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => testttt
        )

    [new_camry_price] => Array
        (
            [0] => 123
        )

    [new_starex_price] => Array
        (
            [0] => 1234
        )

    [new_hiace_price] => Array
        (
            [0] => 12345
        )

)

[29-Apr-2025 09:40:45 UTC] Taxi settings updated successfully for service_title: Best Taxi Service for Umrah and Hajj, year: 2025
[29-Apr-2025 09:40:45 UTC] Taxi routes inserted successfully: ('Best Taxi Service for Umrah and Hajj', 2025, 1, 'testttt', 123, 1234, 12345, NOW())
[29-Apr-2025 09:41:16 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:41:16 UTC] Number of transportation bookings retrieved: 4
[29-Apr-2025 09:41:16 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:41:16 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:41:19 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:41:19 UTC] Number of transportation bookings retrieved: 4
[29-Apr-2025 09:41:19 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:41:19 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:41:21 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:41:21 UTC] Number of transportation bookings retrieved: 4
[29-Apr-2025 09:41:21 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:41:21 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:41:23 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:41:23 UTC] Number of transportation bookings retrieved: 4
[29-Apr-2025 09:41:23 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:41:23 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:41:24 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:41:24 UTC] Number of transportation bookings retrieved: 4
[29-Apr-2025 09:41:24 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:41:24 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:41:25 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:41:25 UTC] Number of transportation bookings retrieved: 4
[29-Apr-2025 09:41:25 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:41:25 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:42:23 UTC] Rent-a-Car Routes POST Data: Array
(
    [update_rentacar_routes] => 1
    [serviceTitle] => Best Umrah and Hajj Rent A Car
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => testesterone
        )

    [new_gmc_16_19_price] => Array
        (
            [0] => 123
        )

    [new_gmc_22_23_price] => Array
        (
            [0] => 1234
        )

    [new_coaster_price] => Array
        (
            [0] => 1234567
        )

)

[29-Apr-2025 09:42:23 UTC] Rent-a-Car settings updated successfully for service_title: Best Umrah and Hajj Rent A Car, year: 2025
[29-Apr-2025 09:42:23 UTC] Rent-a-Car routes inserted successfully: ('Best Umrah and Hajj Rent A Car', 2025, 1, 'testesterone', 123, 1234, 1234567, NOW())
[29-Apr-2025 09:43:18 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:43:18 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 09:43:18 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:43:18 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:43:29 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:43:29 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 09:43:29 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:43:29 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:44:28 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Out of range value for column 'hiace_price' at row 1 in /home/trending/public_html/umrahpartner.com/admin/view-transportation.php:56
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/view-transportation.php(56): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/view-transportation.php on line 56
[29-Apr-2025 09:46:29 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 09:46:29 UTC] Number of package bookings retrieved: 3
[29-Apr-2025 09:46:29 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 09:46:29 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 09:51:16 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 09:51:16 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 09:51:16 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 09:51:16 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 09:52:42 UTC] Rent-a-Car Routes POST Data: Array
(
    [update_rentacar_routes] => 1
    [serviceTitle] => Best Umrah and Hajj Rent A Car
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => test
        )

    [new_gmc_16_19_price] => Array
        (
            [0] => 123
        )

    [new_gmc_22_23_price] => Array
        (
            [0] => 1234
        )

    [new_coaster_price] => Array
        (
            [0] => 12345
        )

)

[29-Apr-2025 09:52:42 UTC] Rent-a-Car settings updated successfully for service_title: Best Umrah and Hajj Rent A Car, year: 2025
[29-Apr-2025 09:52:42 UTC] Rent-a-Car routes inserted successfully: ('Best Umrah and Hajj Rent A Car', 2025, 1, 'test', 123, 1234, 12345, NOW())
[29-Apr-2025 10:26:15 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 10:26:15 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 10:27:16 UTC] Rent-a-Car Routes POST Data: Array
(
    [update_rentacar_routes] => 1
    [serviceTitle] => Best Umrah and Hajj Rent A Car
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => sfsz
        )

    [new_gmc_16_19_price] => Array
        (
            [0] => 12000
        )

    [new_gmc_22_23_price] => Array
        (
            [0] => 14000
        )

    [new_coaster_price] => Array
        (
            [0] => 18000
        )

)

[29-Apr-2025 10:27:16 UTC] Rent-a-Car settings updated successfully for service_title: Best Umrah and Hajj Rent A Car, year: 2025
[29-Apr-2025 10:27:16 UTC] Rent-a-Car routes inserted successfully: ('Best Umrah and Hajj Rent A Car', 2025, 1, 'sfsz', 12000, 14000, 18000, NOW())
[29-Apr-2025 10:27:57 UTC] Taxi Routes POST Data: Array
(
    [update_taxi_routes] => 1
    [serviceTitle] => Best Taxi Service for Umrah and Hajj
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => arsz
        )

    [new_camry_price] => Array
        (
            [0] => 18000
        )

    [new_starex_price] => Array
        (
            [0] => 19000
        )

    [new_hiace_price] => Array
        (
            [0] => 21000
        )

)

[29-Apr-2025 10:27:57 UTC] Taxi settings updated successfully for service_title: Best Taxi Service for Umrah and Hajj, year: 2025
[29-Apr-2025 10:27:57 UTC] Taxi routes inserted successfully: ('Best Taxi Service for Umrah and Hajj', 2025, 1, 'arsz', 18000, 19000, 21000, NOW())
[29-Apr-2025 10:28:31 UTC] Taxi Routes POST Data: Array
(
    [update_taxi_routes] => 1
    [serviceTitle] => Best Taxi Service for Umrah and Hajj
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => fdxgrfd
        )

    [new_camry_price] => Array
        (
            [0] => 14000
        )

    [new_starex_price] => Array
        (
            [0] => 17000
        )

    [new_hiace_price] => Array
        (
            [0] => 19000
        )

)

[29-Apr-2025 10:28:31 UTC] Taxi settings updated successfully for service_title: Best Taxi Service for Umrah and Hajj, year: 2025
[29-Apr-2025 10:28:31 UTC] Taxi routes inserted successfully: ('Best Taxi Service for Umrah and Hajj', 2025, 1, 'fdxgrfd', 14000, 17000, 19000, NOW())
[29-Apr-2025 10:28:36 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 10:28:36 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 10:28:36 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 10:28:36 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 10:30:18 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 10:30:18 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 10:31:06 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 10:31:06 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 10:31:06 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 10:31:06 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 10:31:58 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 10:31:58 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 10:32:01 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 10:32:01 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 10:32:03 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 10:32:03 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 10:32:16 UTC] Taxi Routes POST Data: Array
(
    [update_taxi_routes] => 1
    [serviceTitle] => Best Taxi Service for Umrah and Hajj
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => testttterrrr
        )

    [new_camry_price] => Array
        (
            [0] => 12
        )

    [new_starex_price] => Array
        (
            [0] => 123
        )

    [new_hiace_price] => Array
        (
            [0] => 1234
        )

)

[29-Apr-2025 10:32:16 UTC] Taxi settings updated successfully for service_title: Best Taxi Service for Umrah and Hajj, year: 2025
[29-Apr-2025 10:32:16 UTC] Taxi routes inserted successfully: ('Best Taxi Service for Umrah and Hajj', 2025, 1, 'testttterrrr', 12, 123, 1234, NOW())
[29-Apr-2025 10:33:21 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 10:33:21 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 10:33:39 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 10:33:39 UTC] Number of hotel bookings retrieved: 2
[29-Apr-2025 10:33:39 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 10:33:39 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 10:33:56 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 10:33:56 UTC] Number of package bookings retrieved: 0
[29-Apr-2025 10:33:56 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 10:33:56 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 10:34:06 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 10:34:06 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 10:34:06 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 10:34:06 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 10:37:20 UTC] Hotel 15: Uploaded 1 images. Primary image: uploads/hotels/15/hotel_6810abe0c7ca1.jpg
[29-Apr-2025 10:38:08 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 20
[29-Apr-2025 10:38:08 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 26
[29-Apr-2025 10:38:08 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 32
[29-Apr-2025 10:38:08 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 43
[29-Apr-2025 10:39:08 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 10:39:08 UTC] Number of transportation bookings retrieved: 0
[29-Apr-2025 10:39:08 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 10:39:08 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 10:40:10 UTC] Rent-a-Car Routes POST Data: Array
(
    [update_rentacar_routes] => 1
    [serviceTitle] => Best Umrah and Hajj Rent A Car
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => testest
        )

    [new_gmc_16_19_price] => Array
        (
            [0] => 14500
        )

    [new_gmc_22_23_price] => Array
        (
            [0] => 17000
        )

    [new_coaster_price] => Array
        (
            [0] => 19000
        )

)

[29-Apr-2025 10:40:10 UTC] Rent-a-Car settings updated successfully for service_title: Best Umrah and Hajj Rent A Car, year: 2025
[29-Apr-2025 10:40:10 UTC] Rent-a-Car routes inserted successfully: ('Best Umrah and Hajj Rent A Car', 2025, 1, 'testest', 14500, 17000, 19000, NOW())
[29-Apr-2025 10:40:29 UTC] Rent-a-Car Routes POST Data: Array
(
    [update_rentacar_routes] => 1
    [serviceTitle] => Best Umrah and Hajj Rent A Car
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => testtesttest
        )

    [new_gmc_16_19_price] => Array
        (
            [0] => 17000
        )

    [new_gmc_22_23_price] => Array
        (
            [0] => 19000
        )

    [new_coaster_price] => Array
        (
            [0] => 21000
        )

)

[29-Apr-2025 10:40:29 UTC] Rent-a-Car settings updated successfully for service_title: Best Umrah and Hajj Rent A Car, year: 2025
[29-Apr-2025 10:40:29 UTC] Rent-a-Car routes inserted successfully: ('Best Umrah and Hajj Rent A Car', 2025, 1, 'testtesttest', 17000, 19000, 21000, NOW())
[29-Apr-2025 10:40:35 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 10:40:35 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 10:40:39 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 10:40:39 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 10:40:41 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 10:40:41 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 10:41:12 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 10:41:12 UTC] Number of transportation bookings retrieved: 0
[29-Apr-2025 10:41:12 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 10:41:12 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 10:41:39 UTC] Taxi Routes POST Data: Array
(
    [update_taxi_routes] => 1
    [serviceTitle] => Best Taxi Service for Umrah and Hajj
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => zeshan
        )

    [new_camry_price] => Array
        (
            [0] => 13500
        )

    [new_starex_price] => Array
        (
            [0] => 16000
        )

    [new_hiace_price] => Array
        (
            [0] => 19000
        )

)

[29-Apr-2025 10:41:39 UTC] Taxi settings updated successfully for service_title: Best Taxi Service for Umrah and Hajj, year: 2025
[29-Apr-2025 10:41:39 UTC] Taxi routes inserted successfully: ('Best Taxi Service for Umrah and Hajj', 2025, 1, 'zeshan', 13500, 16000, 19000, NOW())
[29-Apr-2025 10:42:08 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 10:42:08 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 10:46:37 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 10:46:37 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 10:46:37 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 10:46:37 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 10:59:30 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 10:59:30 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 10:59:30 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 10:59:30 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 10:59:33 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 10:59:33 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 10:59:33 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 10:59:33 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 10:59:35 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 10:59:35 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 10:59:35 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 10:59:35 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 11:12:46 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 11:12:46 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 11:12:46 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 11:12:46 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 11:12:55 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 11:12:55 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 11:12:55 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 11:12:55 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 11:13:46 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 11:13:46 UTC] Number of package bookings retrieved: 2
[29-Apr-2025 11:13:46 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 11:13:46 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 11:15:06 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 20
[29-Apr-2025 11:15:06 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 26
[29-Apr-2025 11:15:06 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 32
[29-Apr-2025 11:15:06 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 43
[29-Apr-2025 11:16:48 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 11:16:48 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 11:16:48 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 11:16:48 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 11:18:23 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 11:18:23 UTC] Number of hotel bookings retrieved: 2
[29-Apr-2025 11:18:23 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 11:18:23 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 11:20:26 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 11:20:26 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 11:20:26 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 11:20:26 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 15:21:40 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 15:21:40 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 15:25:56 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 15:25:56 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 15:26:01 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 15:26:01 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 15:26:19 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 15:26:19 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 15:27:45 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 15:27:45 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 15:29:44 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 15:29:44 UTC] Number of hotel bookings retrieved: 1
[29-Apr-2025 15:29:44 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 15:29:44 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 15:32:04 UTC] Hotel 16: Uploaded 1 images. Primary image: uploads/hotels/16/hotel_6810f0f41e434.jpg
[29-Apr-2025 15:33:46 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 15:33:46 UTC] Number of package bookings retrieved: 1
[29-Apr-2025 15:33:46 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 15:33:46 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 15:34:45 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 20
[29-Apr-2025 15:34:45 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 26
[29-Apr-2025 15:34:45 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 32
[29-Apr-2025 15:34:45 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 43
[29-Apr-2025 15:35:08 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/edit-package.php on line 42
[29-Apr-2025 15:35:08 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/edit-package.php on line 48
[29-Apr-2025 15:35:08 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/edit-package.php on line 54
[29-Apr-2025 15:35:08 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/edit-package.php on line 65
[29-Apr-2025 15:35:31 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 15:35:31 UTC] Number of transportation bookings retrieved: 1
[29-Apr-2025 15:35:31 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 15:35:31 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 15:36:23 UTC] Taxi Routes POST Data: Array
(
    [update_taxi_routes] => 1
    [serviceTitle] => Best Taxi Service for Umrah and Hajj
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => TEST
        )

    [new_camry_price] => Array
        (
            [0] => 12000
        )

    [new_starex_price] => Array
        (
            [0] => 14000
        )

    [new_hiace_price] => Array
        (
            [0] => 17000
        )

)

[29-Apr-2025 15:36:23 UTC] Taxi settings updated successfully for service_title: Best Taxi Service for Umrah and Hajj, year: 2025
[29-Apr-2025 15:36:23 UTC] Taxi routes inserted successfully: ('Best Taxi Service for Umrah and Hajj', 2025, 1, 'TEST', 12000, 14000, 17000, NOW())
[29-Apr-2025 15:36:44 UTC] Rent-a-Car Routes POST Data: Array
(
    [update_rentacar_routes] => 1
    [serviceTitle] => Best Umrah and Hajj Rent A Car
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => TESTSSSSS
        )

    [new_gmc_16_19_price] => Array
        (
            [0] => 13000
        )

    [new_gmc_22_23_price] => Array
        (
            [0] => 18000
        )

    [new_coaster_price] => Array
        (
            [0] => 21000
        )

)

[29-Apr-2025 15:36:44 UTC] Rent-a-Car settings updated successfully for service_title: Best Umrah and Hajj Rent A Car, year: 2025
[29-Apr-2025 15:36:44 UTC] Rent-a-Car routes inserted successfully: ('Best Umrah and Hajj Rent A Car', 2025, 1, 'TESTSSSSS', 13000, 18000, 21000, NOW())
[29-Apr-2025 15:53:28 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 15:53:28 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 15:53:32 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 15:53:32 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 15:53:35 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[29-Apr-2025 15:53:35 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[29-Apr-2025 15:53:48 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 15:53:48 UTC] Number of hotel bookings retrieved: 1
[29-Apr-2025 15:53:48 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 15:53:48 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 15:53:58 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 15:53:58 UTC] Number of hotel bookings retrieved: 1
[29-Apr-2025 15:53:58 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 15:53:58 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 15:54:02 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[29-Apr-2025 15:54:02 UTC] Number of hotel bookings retrieved: 1
[29-Apr-2025 15:54:02 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[29-Apr-2025 15:54:02 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[29-Apr-2025 15:55:32 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 15:55:32 UTC] Number of package bookings retrieved: 2
[29-Apr-2025 15:55:32 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 15:55:32 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 15:55:38 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 15:55:38 UTC] Number of package bookings retrieved: 2
[29-Apr-2025 15:55:38 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 15:55:38 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 15:55:41 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[29-Apr-2025 15:55:41 UTC] Number of package bookings retrieved: 2
[29-Apr-2025 15:55:41 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[29-Apr-2025 15:55:41 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[29-Apr-2025 15:55:48 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 15:55:48 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 15:55:48 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 15:55:48 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 15:55:52 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 15:55:52 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 15:55:52 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 15:55:52 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[29-Apr-2025 15:55:54 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[29-Apr-2025 15:55:54 UTC] Number of transportation bookings retrieved: 2
[29-Apr-2025 15:55:54 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[29-Apr-2025 15:55:54 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[30-Apr-2025 04:39:32 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[30-Apr-2025 04:39:32 UTC] Number of transportation bookings retrieved: 2
[30-Apr-2025 04:39:32 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[30-Apr-2025 04:39:32 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[02-May-2025 10:20:45 UTC] PHP Warning:  Undefined array key "admin_id" in /home/trending/public_html/umrahpartner.com/admin/users.php on line 29
[02-May-2025 10:20:49 UTC] PHP Warning:  Undefined array key "admin_id" in /home/trending/public_html/umrahpartner.com/admin/users.php on line 29
[02-May-2025 10:28:01 UTC] PHP Fatal error:  Uncaught ArgumentCountError: The number of elements in the type definition string must match the number of bind variables in /home/trending/public_html/umrahpartner.com/admin/admin_assign_hotel.php:184
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/admin_assign_hotel.php(184): mysqli_stmt->bind_param('isisssss', 18, 'r2', 21, '2025-05-03', '2025-05-02', '2025-05-02', '2025-05-02', '2025-05-02', '2025-05-03')
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/admin_assign_hotel.php on line 184
[02-May-2025 10:29:02 UTC] PHP Fatal error:  Uncaught ArgumentCountError: The number of elements in the type definition string must match the number of bind variables in /home/trending/public_html/umrahpartner.com/admin/admin_assign_hotel.php:184
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/admin_assign_hotel.php(184): mysqli_stmt->bind_param('isisssss', 18, 'r2', 21, '2025-05-03', '2025-05-02', '2025-05-02', '2025-05-02', '2025-05-02', '2025-05-03')
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/admin_assign_hotel.php on line 184
[02-May-2025 10:31:39 UTC] Taxi Routes POST Data: Array
(
    [update_taxi_routes] => 1
    [serviceTitle] => Best Taxi Service for Umrah and Hajj
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => test
        )

    [new_camry_price] => Array
        (
            [0] => 1
        )

    [new_starex_price] => Array
        (
            [0] => 2
        )

    [new_hiace_price] => Array
        (
            [0] => 3
        )

)

[02-May-2025 10:31:39 UTC] Taxi settings updated successfully for service_title: Best Taxi Service for Umrah and Hajj, year: 2025
[02-May-2025 10:31:39 UTC] Taxi routes inserted successfully: ('Best Taxi Service for Umrah and Hajj', 2025, 1, 'test', 1, 2, 3, NOW())
[02-May-2025 10:32:15 UTC] Taxi Routes POST Data: Array
(
    [update_taxi_routes] => 1
    [serviceTitle] => Best Taxi Service for Umrah and Hajj
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => test
        )

    [new_camry_price] => Array
        (
            [0] => 11111
        )

    [new_starex_price] => Array
        (
            [0] => 1111111
        )

    [new_hiace_price] => Array
        (
            [0] => 11111111
        )

)

[02-May-2025 10:32:15 UTC] Taxi settings updated successfully for service_title: Best Taxi Service for Umrah and Hajj, year: 2025
[02-May-2025 10:32:15 UTC] Taxi routes inserted successfully: ('Best Taxi Service for Umrah and Hajj', 2025, 1, 'test', 11111, 1111111, 11111111, NOW())
[02-May-2025 10:32:35 UTC] Transport assignment form submitted for booking #29: {"booking_id":"29","transport_type":"rentacar","pickup_date":"2025-05-02","pickup_time":"22222","pickup_location":"wsdasgfsd","full_name":"test","email":"test@test.com","phone":"03196977218","additional_notes":"sdfsdg","assign_transport":""}
[02-May-2025 10:32:35 UTC] Invalid route ID: 0
[02-May-2025 10:34:07 UTC] Transport assignment form submitted for booking #: {"booking_id":"29","transport_type":"rentacar","pickup_date":"2025-05-02","pickup_time":"22222","pickup_location":"wsdasgfsd","full_name":"test","email":"test@test.com","phone":"03196977218","additional_notes":"sdfsdg","assign_transport":""}
[02-May-2025 10:34:07 UTC] Invalid route ID: 0
[02-May-2025 10:51:03 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[02-May-2025 10:51:03 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[02-May-2025 10:51:25 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[02-May-2025 10:51:25 UTC] Number of hotel bookings retrieved: 1
[02-May-2025 10:51:25 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[02-May-2025 10:51:25 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[02-May-2025 10:51:52 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[02-May-2025 10:51:52 UTC] Number of transportation bookings retrieved: 0
[02-May-2025 10:51:52 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[02-May-2025 10:51:52 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[02-May-2025 10:54:29 UTC] PHP Parse error:  syntax error, unexpected character 0x04, expecting ")" in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 320
[02-May-2025 10:57:30 UTC] PHP Parse error:  syntax error, unexpected token "?" in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 266
[02-May-2025 10:57:42 UTC] PHP Parse error:  syntax error, unexpected token "?" in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 266
[02-May-2025 10:59:30 UTC] Transport assignment form submitted for booking #29: {"booking_id":"29","transport_type":"rentacar","pickup_date":"2025-05-02","pickup_time":"22:00","pickup_location":"dsafsdfg","full_name":"test","email":"test@test.com","phone":"03196977218","additional_notes":"sdag","assign_transport":""}
[02-May-2025 10:59:30 UTC] Invalid route ID: 0
[02-May-2025 10:59:45 UTC] Transport assignment form submitted for booking #29: {"booking_id":"29","transport_type":"rentacar","pickup_date":"2025-05-02","pickup_time":"22:00","pickup_location":"dsafsdfg","full_name":"test","email":"test@test.com","phone":"03196977218","additional_notes":"sdag","assign_transport":""}
[02-May-2025 10:59:45 UTC] Invalid route ID: 0
[02-May-2025 11:01:35 UTC] PHP Parse error:  Unmatched '}' in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 636
[02-May-2025 11:01:37 UTC] PHP Parse error:  Unmatched '}' in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 636
[02-May-2025 11:03:49 UTC] Rent-a-Car Routes POST Data: Array
(
    [update_rentacar_routes] => 1
    [serviceTitle] => Best Umrah and Hajj Rent A Car
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => test
        )

    [new_gmc_16_19_price] => Array
        (
            [0] => 1
        )

    [new_gmc_22_23_price] => Array
        (
            [0] => 2
        )

    [new_coaster_price] => Array
        (
            [0] => 3
        )

)

[02-May-2025 11:03:49 UTC] Rent-a-Car settings updated successfully for service_title: Best Umrah and Hajj Rent A Car, year: 2025
[02-May-2025 11:03:49 UTC] Rent-a-Car routes inserted successfully: ('Best Umrah and Hajj Rent A Car', 2025, 1, 'test', 1, 2, 3, NOW())
[02-May-2025 11:06:01 UTC] PHP Parse error:  syntax error, unexpected token "<", expecting variable or "{" or "$" in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 574
[02-May-2025 11:06:09 UTC] PHP Parse error:  syntax error, unexpected token "<", expecting variable or "{" or "$" in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 574
[02-May-2025 11:06:17 UTC] PHP Parse error:  syntax error, unexpected token "<", expecting variable or "{" or "$" in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 574
[02-May-2025 11:06:19 UTC] PHP Parse error:  syntax error, unexpected token "<", expecting variable or "{" or "$" in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 574
[02-May-2025 11:06:22 UTC] PHP Parse error:  syntax error, unexpected token "<", expecting variable or "{" or "$" in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 574
[02-May-2025 11:44:15 UTC] Transport assignment form submitted for booking #29: {"booking_id":"29","transport_type":"taxi","route_id":"34","vehicle_type":"Starex\/Staria","pickup_date":"2025-05-08","pickup_time":"22:22","pickup_location":"sdafsdg","full_name":"test","email":"test@test.com","phone":"03196977218","additional_notes":"sdafdgdsagf","assign_transport":""}
[02-May-2025 11:44:15 UTC] Successfully created transportation booking for user ID: 21, booking #29
[03-May-2025 05:35:19 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[03-May-2025 05:35:19 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[03-May-2025 05:35:52 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[03-May-2025 05:35:52 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[03-May-2025 05:36:07 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[03-May-2025 05:36:07 UTC] Number of hotel bookings retrieved: 1
[03-May-2025 05:36:07 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[03-May-2025 05:36:07 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[03-May-2025 05:36:29 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[03-May-2025 05:36:29 UTC] Number of package bookings retrieved: 1
[03-May-2025 05:36:29 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[03-May-2025 05:36:29 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[03-May-2025 05:36:53 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[03-May-2025 05:36:53 UTC] Number of transportation bookings retrieved: 1
[03-May-2025 05:36:53 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[03-May-2025 05:36:53 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[03-May-2025 06:46:31 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[03-May-2025 06:46:31 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[03-May-2025 15:18:22 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Table 'trending_ummrah.faqs' doesn't exist in /home/trending/public_html/umrahpartner.com/admin/faqs.php:111
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/faqs.php(111): mysqli->query('SELECT * FROM f...')
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/faqs.php on line 111
[03-May-2025 15:20:30 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[03-May-2025 15:20:30 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[03-May-2025 15:42:28 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[03-May-2025 15:42:28 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[03-May-2025 15:43:54 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[03-May-2025 15:43:54 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[03-May-2025 15:44:09 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[03-May-2025 15:44:09 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[03-May-2025 15:44:27 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[03-May-2025 15:44:27 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[03-May-2025 15:46:24 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[03-May-2025 15:46:24 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[03-May-2025 15:46:49 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[03-May-2025 15:46:49 UTC] Number of hotel bookings retrieved: 1
[03-May-2025 15:46:49 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[03-May-2025 15:46:49 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[03-May-2025 15:47:43 UTC] Hotel 19: Uploaded 1 images. Primary image: uploads/hotels/19/hotel_68163a9fcbd83.jpg
[03-May-2025 19:22:17 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Table 'trending_ummrah.about_us' doesn't exist in /home/trending/public_html/umrahpartner.com/admin/about-us.php:244
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/about-us.php(244): mysqli->query('SELECT * FROM a...')
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/about-us.php on line 244
[03-May-2025 19:24:30 UTC] PHP Warning:  Undefined array key "subtitle" in /home/trending/public_html/umrahpartner.com/admin/about-us.php on line 66
[03-May-2025 19:24:30 UTC] PHP Deprecated:  trim(): Passing null to parameter #1 ($string) of type string is deprecated in /home/trending/public_html/umrahpartner.com/admin/about-us.php on line 66
[03-May-2025 19:24:30 UTC] PHP Warning:  Cannot modify header information - headers already sent by (output started at /home/trending/public_html/umrahpartner.com/admin/about-us.php:66) in /home/trending/public_html/umrahpartner.com/admin/about-us.php on line 229
[04-May-2025 04:38:56 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[04-May-2025 04:38:56 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[04-May-2025 04:55:19 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[04-May-2025 04:55:19 UTC] Number of package bookings retrieved: 1
[04-May-2025 04:55:19 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[04-May-2025 04:55:19 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[04-May-2025 05:39:41 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[04-May-2025 05:39:41 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:18:28 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:18:28 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:22:06 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:22:06 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:23:03 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:23:03 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:23:37 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:23:37 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:24:32 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:24:32 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:24:37 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:24:37 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:25:42 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:25:42 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:25:44 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:25:44 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:34:29 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:34:29 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:43:10 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:43:10 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:43:25 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:43:25 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:43:32 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:43:32 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:49:10 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 05:49:10 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 05:49:10 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 05:49:10 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 05:50:59 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:50:59 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:51:02 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:51:02 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:52:53 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:52:53 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:52:55 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:52:55 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:53:14 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:53:14 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:53:15 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:53:15 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:53:16 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:53:16 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:53:43 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:53:43 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:53:44 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:53:44 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:53:47 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:53:47 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:54:00 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:54:00 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:54:06 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:54:06 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:54:18 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:54:18 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:54:30 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:54:30 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:55:35 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:55:35 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:57:07 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:57:07 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:57:36 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:57:36 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:58:02 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:58:02 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:58:19 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:58:19 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:58:46 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:58:46 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:59:14 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:59:14 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:59:27 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:59:27 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 05:59:48 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 05:59:48 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 06:00:07 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:00:07 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:00:07 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:00:07 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:00:10 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:00:10 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:00:10 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:00:10 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:00:21 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 06:00:21 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 06:00:24 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 06:00:24 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 06:03:22 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:03:22 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:03:22 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:03:22 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:03:47 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:03:47 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:03:47 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:03:47 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:03:52 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 06:03:52 UTC] Number of package bookings retrieved: 0
[05-May-2025 06:03:52 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 06:03:52 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 06:07:16 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:07:16 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:07:16 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:07:16 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:07:34 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:07:34 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:07:34 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:07:34 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:09:15 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:09:15 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:09:15 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:09:15 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:09:49 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:09:49 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:09:49 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:09:49 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:10:39 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:10:39 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:10:39 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:10:39 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:10:59 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:10:59 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:10:59 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:10:59 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:11:50 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:11:50 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:11:50 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:11:50 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:12:01 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:12:01 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:12:01 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:12:01 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:12:26 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:12:26 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:12:26 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:12:26 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:12:37 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:12:37 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:12:37 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:12:37 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:12:47 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:12:47 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:12:47 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:12:47 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:13:02 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:13:02 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:13:02 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:13:02 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:13:53 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:13:53 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:13:53 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:13:53 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:14:11 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:14:11 UTC] Number of hotel bookings retrieved: 0
[05-May-2025 06:14:11 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:14:11 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:15:09 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 06:15:09 UTC] Number of package bookings retrieved: 0
[05-May-2025 06:15:09 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 06:15:09 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 06:16:24 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 06:16:24 UTC] Number of package bookings retrieved: 0
[05-May-2025 06:16:24 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 06:16:24 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 06:20:47 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 06:20:47 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 06:20:53 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 06:20:53 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 06:20:57 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 06:20:57 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 06:21:32 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:21:32 UTC] Number of hotel bookings retrieved: 1
[05-May-2025 06:21:32 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:21:32 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:21:36 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:21:36 UTC] Number of hotel bookings retrieved: 1
[05-May-2025 06:21:36 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:21:36 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:21:42 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:21:42 UTC] Number of hotel bookings retrieved: 1
[05-May-2025 06:21:42 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:21:42 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:21:57 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 06:21:57 UTC] Number of package bookings retrieved: 1
[05-May-2025 06:21:57 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 06:21:57 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 06:22:04 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 06:22:04 UTC] Number of package bookings retrieved: 1
[05-May-2025 06:22:04 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 06:22:04 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 06:22:12 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 06:22:12 UTC] Number of package bookings retrieved: 1
[05-May-2025 06:22:12 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 06:22:12 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 06:22:40 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 06:22:40 UTC] Number of package bookings retrieved: 1
[05-May-2025 06:22:40 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 06:22:40 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 06:22:54 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[05-May-2025 06:22:54 UTC] Number of transportation bookings retrieved: 1
[05-May-2025 06:22:54 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[05-May-2025 06:22:54 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[05-May-2025 06:22:57 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[05-May-2025 06:22:57 UTC] Number of transportation bookings retrieved: 1
[05-May-2025 06:22:57 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[05-May-2025 06:22:57 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[05-May-2025 06:23:00 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[05-May-2025 06:23:00 UTC] Number of transportation bookings retrieved: 1
[05-May-2025 06:23:00 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[05-May-2025 06:23:00 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[05-May-2025 06:23:19 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[05-May-2025 06:23:19 UTC] Number of transportation bookings retrieved: 1
[05-May-2025 06:23:19 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[05-May-2025 06:23:19 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[05-May-2025 06:23:22 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 06:23:22 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 06:23:28 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[05-May-2025 06:23:28 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[05-May-2025 06:23:31 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:23:31 UTC] Number of hotel bookings retrieved: 1
[05-May-2025 06:23:31 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:23:31 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:23:35 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[05-May-2025 06:23:35 UTC] Number of hotel bookings retrieved: 1
[05-May-2025 06:23:35 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[05-May-2025 06:23:35 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[05-May-2025 06:23:38 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 06:23:38 UTC] Number of package bookings retrieved: 1
[05-May-2025 06:23:38 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 06:23:38 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 06:23:42 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 06:23:42 UTC] Number of package bookings retrieved: 1
[05-May-2025 06:23:42 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 06:23:42 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 06:23:50 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[05-May-2025 06:23:50 UTC] Number of transportation bookings retrieved: 1
[05-May-2025 06:23:50 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[05-May-2025 06:23:50 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[05-May-2025 06:33:35 UTC] Rent-a-Car Routes POST Data: Array
(
    [update_rentacar_routes] => 1
    [serviceTitle] => Best Umrah and Hajj Rent A Car
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
            [1] => 2
        )

    [new_route_name] => Array
        (
            [0] => testtttttt
            [1] => testttttttttttt
        )

    [new_gmc_16_19_price] => Array
        (
            [0] => 1
            [1] => 11
        )

    [new_gmc_22_23_price] => Array
        (
            [0] => 2
            [1] => 22
        )

    [new_coaster_price] => Array
        (
            [0] => 3
            [1] => 33
        )

)

[05-May-2025 06:33:35 UTC] Rent-a-Car settings updated successfully for service_title: Best Umrah and Hajj Rent A Car, year: 2025
[05-May-2025 06:33:35 UTC] Rent-a-Car routes inserted successfully: ('Best Umrah and Hajj Rent A Car', 2025, 1, 'testtttttt', 1, 2, 3, NOW()),('Best Umrah and Hajj Rent A Car', 2025, 2, 'testttttttttttt', 11, 22, 33, NOW())
[05-May-2025 06:38:04 UTC] PHP Fatal error:  Uncaught Error: Call to undefined function formatNumber() in /home/trending/public_html/umrahpartner.com/admin/view-transportation.php:362
Stack trace:
#0 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/view-transportation.php on line 362
[05-May-2025 06:38:06 UTC] PHP Fatal error:  Uncaught Error: Call to undefined function formatNumber() in /home/trending/public_html/umrahpartner.com/admin/view-transportation.php:362
Stack trace:
#0 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/view-transportation.php on line 362
[05-May-2025 06:38:14 UTC] PHP Fatal error:  Uncaught Error: Call to undefined function formatNumber() in /home/trending/public_html/umrahpartner.com/admin/view-transportation.php:362
Stack trace:
#0 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/view-transportation.php on line 362
[05-May-2025 06:44:41 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[05-May-2025 06:44:41 UTC] Number of transportation bookings retrieved: 0
[05-May-2025 06:44:41 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[05-May-2025 06:44:41 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[05-May-2025 06:45:42 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: Out of range value for column 'first_class_price' at row 1 in /home/trending/public_html/umrahpartner.com/admin/add-flight.php:137
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/add-flight.php(137): mysqli_stmt->execute()
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/add-flight.php on line 137
[05-May-2025 07:23:40 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 07:23:40 UTC] Number of package bookings retrieved: 1
[05-May-2025 07:23:40 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 07:23:40 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 07:28:10 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 07:28:10 UTC] Number of package bookings retrieved: 1
[05-May-2025 07:28:10 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 07:28:10 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[05-May-2025 07:28:14 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[05-May-2025 07:28:14 UTC] Number of package bookings retrieved: 1
[05-May-2025 07:28:14 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[05-May-2025 07:28:14 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 06:18:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in /home/trending/public_html/umrahpartner.com/admin/about-us.php on line 604
[06-May-2025 06:18:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in /home/trending/public_html/umrahpartner.com/admin/about-us.php on line 604
[06-May-2025 06:18:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in /home/trending/public_html/umrahpartner.com/admin/about-us.php on line 609
[06-May-2025 06:18:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in /home/trending/public_html/umrahpartner.com/admin/about-us.php on line 604
[06-May-2025 06:18:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in /home/trending/public_html/umrahpartner.com/admin/about-us.php on line 609
[06-May-2025 08:14:45 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 08:14:45 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 08:36:58 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 08:36:58 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 08:37:05 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 08:37:05 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 08:37:11 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 08:37:11 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 08:37:37 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:37:37 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:37:37 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:37:37 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 08:40:52 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:40:52 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:40:52 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:40:52 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 08:40:56 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:40:56 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:40:56 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:40:56 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 08:41:01 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:41:01 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:41:01 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:41:01 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 08:41:09 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 08:41:09 UTC] Number of package bookings retrieved: 1
[06-May-2025 08:41:09 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 08:41:09 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 08:41:49 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 08:41:49 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 08:41:57 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:41:57 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:41:57 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:41:57 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 08:42:09 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 08:42:09 UTC] Number of package bookings retrieved: 1
[06-May-2025 08:42:09 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 08:42:09 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 08:42:40 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 08:42:40 UTC] Number of package bookings retrieved: 1
[06-May-2025 08:42:40 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 08:42:40 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 08:42:45 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 08:42:45 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 08:42:51 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:42:51 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:42:51 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:42:51 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 08:51:16 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:51:16 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:51:16 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN: 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:51:16 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'THEN: 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booki...' at line 3 in /home/trending/public_html/umrahpartner.com/admin/booked-hotels.php:341
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-hotels.php(341): mysqli->query('SELECT \r\n      ...')
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-hotels.php on line 341
[06-May-2025 08:51:18 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:51:18 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:51:18 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN: 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:51:18 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'THEN: 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booki...' at line 3 in /home/trending/public_html/umrahpartner.com/admin/booked-hotels.php:341
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-hotels.php(341): mysqli->query('SELECT \r\n      ...')
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-hotels.php on line 341
[06-May-2025 08:51:28 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:51:28 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:51:28 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:51:28 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 08:51:36 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:51:36 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:51:36 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN: 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:51:36 UTC] PHP Fatal error:  Uncaught mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'THEN: 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booki...' at line 3 in /home/trending/public_html/umrahpartner.com/admin/booked-hotels.php:341
Stack trace:
#0 /home/trending/public_html/umrahpartner.com/admin/booked-hotels.php(341): mysqli->query('SELECT \r\n      ...')
#1 {main}
  thrown in /home/trending/public_html/umrahpartner.com/admin/booked-hotels.php on line 341
[06-May-2025 08:52:14 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:52:14 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:52:14 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:52:14 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 08:58:30 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:58:30 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:58:30 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:58:30 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 08:59:48 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:59:48 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:59:48 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:59:48 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 08:59:55 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 08:59:55 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 08:59:55 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 08:59:55 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 09:00:02 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 09:00:02 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 09:00:02 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 09:00:02 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 09:00:16 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 09:00:16 UTC] Number of transportation bookings retrieved: 1
[06-May-2025 09:00:16 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 09:00:16 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 09:03:49 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 09:03:49 UTC] Number of transportation bookings retrieved: 1
[06-May-2025 09:03:49 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 09:03:49 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 09:03:52 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 09:03:52 UTC] Number of transportation bookings retrieved: 1
[06-May-2025 09:03:52 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 09:03:52 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 09:03:56 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 09:03:56 UTC] Number of transportation bookings retrieved: 1
[06-May-2025 09:03:56 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 09:03:56 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 09:50:39 UTC] PHP Parse error:  syntax error, unexpected token "<", expecting end of file in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 13
[06-May-2025 09:50:43 UTC] PHP Parse error:  Unclosed '{' on line 117 in /home/trending/public_html/umrahpartner.com/admin/admin_assign_flight.php on line 613
[06-May-2025 09:50:58 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 09:50:58 UTC] Number of transportation bookings retrieved: 0
[06-May-2025 09:50:58 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 09:50:58 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 09:51:07 UTC] PHP Parse error:  syntax error, unexpected token "<", expecting end of file in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 13
[06-May-2025 10:39:51 UTC] PHP Parse error:  syntax error, unexpected token "<", expecting end of file in /home/trending/public_html/umrahpartner.com/admin/admin_assign_transport.php on line 13
[06-May-2025 10:40:46 UTC] Transport assignment form submitted for booking #36: {"booking_id":"36","transport_type":"taxi","route_id":"34","vehicle_type":"Camry\/Sonata","pickup_date":"2025-05-15","pickup_time":"22:22","pickup_location":"asd","full_name":"Usama Rajput","email":"jubranyounas@gmail.com","phone":"+923196977218","additional_notes":"safs","assign_transport":""}
[06-May-2025 10:40:46 UTC] Successfully created transportation booking for user ID: 29, booking #36
[06-May-2025 10:40:59 UTC] PHP Parse error:  Unclosed '{' on line 117 in /home/trending/public_html/umrahpartner.com/admin/admin_assign_flight.php on line 613
[06-May-2025 10:48:38 UTC] PHP Parse error:  Unclosed '{' on line 117 in /home/trending/public_html/umrahpartner.com/admin/admin_assign_flight.php on line 610
[06-May-2025 10:53:39 UTC] PHP Parse error:  Unclosed '{' on line 117 in /home/trending/public_html/umrahpartner.com/admin/admin_assign_flight.php on line 613
[06-May-2025 10:58:37 UTC] PHP Parse error:  Unclosed '{' on line 117 in /home/trending/public_html/umrahpartner.com/admin/admin_assign_flight.php on line 591
[06-May-2025 10:59:01 UTC] PHP Parse error:  Unclosed '{' on line 117 in /home/trending/public_html/umrahpartner.com/admin/admin_assign_flight.php on line 610
[06-May-2025 10:59:09 UTC] PHP Parse error:  Unclosed '{' on line 117 in /home/trending/public_html/umrahpartner.com/admin/admin_assign_flight.php on line 613
[06-May-2025 11:06:03 UTC] PHP Parse error:  syntax error, unexpected identifier "flight" in /home/trending/public_html/umrahpartner.com/admin/admin_assign_flight.php on line 78
[06-May-2025 13:12:37 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 13:12:37 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 13:14:31 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 13:14:31 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 13:16:47 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 13:16:47 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 13:17:11 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 13:17:11 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 13:17:19 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 13:17:19 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 13:17:48 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 13:17:48 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 13:52:10 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 13:52:10 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 13:57:11 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 13:57:11 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 13:57:28 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 13:57:28 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 13:57:35 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 13:57:35 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 13:58:17 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 13:58:17 UTC] Number of hotel bookings retrieved: 0
[06-May-2025 13:58:17 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 13:58:17 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 13:59:04 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 13:59:04 UTC] Number of package bookings retrieved: 1
[06-May-2025 13:59:04 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 13:59:04 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 13:59:54 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 13:59:54 UTC] Number of transportation bookings retrieved: 1
[06-May-2025 13:59:54 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 13:59:54 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:11:12 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 14:11:12 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 14:13:16 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 14:13:16 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 14:13:28 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 14:13:28 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 14:13:33 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 14:13:33 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 14:14:57 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 14:14:57 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 14:14:57 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 14:14:57 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 14:15:26 UTC] Hotel 20: Uploaded 1 images. Primary image: uploads/hotels/20/hotel_681a197e7bd04.jpg
[06-May-2025 14:17:22 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 14:17:22 UTC] Number of hotel bookings retrieved: 2
[06-May-2025 14:17:22 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 14:17:22 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 14:17:33 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 14:17:33 UTC] Number of hotel bookings retrieved: 2
[06-May-2025 14:17:33 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 14:17:33 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 14:17:39 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 14:17:39 UTC] Number of hotel bookings retrieved: 2
[06-May-2025 14:17:39 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 14:17:39 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 14:18:40 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 14:18:40 UTC] Number of package bookings retrieved: 1
[06-May-2025 14:18:40 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 14:18:40 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 14:19:07 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 20
[06-May-2025 14:19:07 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 26
[06-May-2025 14:19:07 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 32
[06-May-2025 14:19:07 UTC] PHP Deprecated:  Constant FILTER_SANITIZE_STRING is deprecated in /home/trending/public_html/umrahpartner.com/admin/add-packages.php on line 43
[06-May-2025 14:19:32 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 14:19:32 UTC] Number of hotel bookings retrieved: 0
[06-May-2025 14:19:32 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 14:19:32 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 14:21:13 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 14:21:13 UTC] Number of hotel bookings retrieved: 0
[06-May-2025 14:21:13 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 14:21:13 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 14:21:27 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 14:21:27 UTC] Number of package bookings retrieved: 2
[06-May-2025 14:21:27 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 14:21:27 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 14:21:43 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 14:21:43 UTC] Number of package bookings retrieved: 2
[06-May-2025 14:21:43 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 14:21:43 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 14:21:48 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 14:21:48 UTC] Number of package bookings retrieved: 2
[06-May-2025 14:21:48 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 14:21:48 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 14:22:35 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 14:22:35 UTC] Number of package bookings retrieved: 2
[06-May-2025 14:22:35 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 14:22:35 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 14:22:50 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:22:50 UTC] Number of transportation bookings retrieved: 1
[06-May-2025 14:22:50 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:22:50 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:23:13 UTC] Rent-a-Car Routes POST Data: Array
(
    [update_rentacar_routes] => 1
    [serviceTitle] => Best Umrah and Hajj Rent A Car
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => zeeee
        )

    [new_gmc_16_19_price] => Array
        (
            [0] => 12700
        )

    [new_gmc_22_23_price] => Array
        (
            [0] => 14500
        )

    [new_coaster_price] => Array
        (
            [0] => 17800
        )

)

[06-May-2025 14:23:13 UTC] Rent-a-Car settings updated successfully for service_title: Best Umrah and Hajj Rent A Car, year: 2025
[06-May-2025 14:23:13 UTC] Rent-a-Car routes inserted successfully: ('Best Umrah and Hajj Rent A Car', 2025, 1, 'zeeee', 12700, 14500, 17800, NOW())
[06-May-2025 14:23:32 UTC] Taxi Routes POST Data: Array
(
    [update_taxi_routes] => 1
    [serviceTitle] => Best Taxi Service for Umrah and Hajj
    [year] => 2025
    [new_route_number] => Array
        (
            [0] => 1
        )

    [new_route_name] => Array
        (
            [0] => zeecom
        )

    [new_camry_price] => Array
        (
            [0] => 13500
        )

    [new_starex_price] => Array
        (
            [0] => 16800
        )

    [new_hiace_price] => Array
        (
            [0] => 190800
        )

)

[06-May-2025 14:23:32 UTC] Taxi settings updated successfully for service_title: Best Taxi Service for Umrah and Hajj, year: 2025
[06-May-2025 14:23:32 UTC] Taxi routes inserted successfully: ('Best Taxi Service for Umrah and Hajj', 2025, 1, 'zeecom', 13500, 16800, 190800, NOW())
[06-May-2025 14:23:37 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:23:37 UTC] Number of transportation bookings retrieved: 1
[06-May-2025 14:23:37 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:23:37 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:26:28 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:26:28 UTC] Number of transportation bookings retrieved: 3
[06-May-2025 14:26:28 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:26:28 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:26:31 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:26:31 UTC] Number of transportation bookings retrieved: 3
[06-May-2025 14:26:31 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:26:31 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:26:34 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:26:34 UTC] Number of transportation bookings retrieved: 3
[06-May-2025 14:26:34 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:26:34 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:26:36 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:26:36 UTC] Number of transportation bookings retrieved: 3
[06-May-2025 14:26:36 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:26:36 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:26:38 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:26:38 UTC] Number of transportation bookings retrieved: 3
[06-May-2025 14:26:38 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:26:38 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:26:39 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:26:39 UTC] Number of transportation bookings retrieved: 3
[06-May-2025 14:26:39 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:26:39 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:38:25 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 14:38:25 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 14:38:33 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 14:38:33 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 14:38:57 UTC] Bookings Query: SELECT fb.*, f.flight_number, f.airline_name, f.departure_city, f.arrival_city, 
               f.departure_date, f.departure_time, u.full_name as user_name, u.email as user_email
        FROM flight_bookings fb
        JOIN flights f ON fb.flight_id = f.id
        JOIN users u ON fb.user_id = u.id
        WHERE 1=1 ORDER BY fb.created_at DESC
[06-May-2025 14:38:57 UTC] Stats Query: SELECT 
                    COUNT(*) as total,
                    SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                    SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                    SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                    SUM(CASE WHEN payment_status = 'completed' THEN 1 ELSE 0 END) as completed_payments,
                    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending_payments,
                    COALESCE(SUM(CASE WHEN payment_status = 'completed' THEN total_price ELSE 0 END), 0) as total_revenue,
                    COALESCE(SUM(CASE WHEN booking_status != 'cancelled' THEN total_price ELSE 0 END), 0) as potential_revenue
                FROM flight_bookings
[06-May-2025 14:42:25 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 14:42:25 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 14:42:25 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 14:42:25 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 14:42:32 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 14:42:32 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 14:42:32 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 14:42:32 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 14:46:16 UTC] Hotel Bookings Query: SELECT hb.*, h.hotel_name, h.location, h.price as price_per_night, 
               DATEDIFF(hb.check_out_date, hb.check_in_date) as nights_count,
               u.full_name as user_name, u.email as user_email
        FROM hotel_bookings hb
        JOIN hotels h ON hb.hotel_id = h.id
        JOIN users u ON hb.user_id = u.id
        WHERE 1=1 ORDER BY hb.created_at DESC
[06-May-2025 14:46:16 UTC] Number of hotel bookings retrieved: 1
[06-May-2025 14:46:16 UTC] Hotel Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'unpaid' THEN 1 ELSE 0 END) as unpaid,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as paid,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue
                FROM hotel_bookings
[06-May-2025 14:46:16 UTC] Location Query: SELECT 
                      COALESCE(SUM(CASE WHEN h.location = 'makkah' THEN 1 ELSE 0 END), 0) as makkah_bookings,
                      COALESCE(SUM(CASE WHEN h.location = 'madinah' THEN 1 ELSE 0 END), 0) as madinah_bookings
                   FROM hotel_bookings hb
                   JOIN hotels h ON hb.hotel_id = h.id
                   WHERE hb.booking_status != 'cancelled'
[06-May-2025 14:47:40 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 14:47:40 UTC] Number of package bookings retrieved: 3
[06-May-2025 14:47:40 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 14:47:40 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 14:47:47 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 14:47:47 UTC] Number of package bookings retrieved: 3
[06-May-2025 14:47:47 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 14:47:47 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 14:48:42 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 14:48:42 UTC] Number of package bookings retrieved: 3
[06-May-2025 14:48:42 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 14:48:42 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 14:48:50 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 14:48:50 UTC] Number of package bookings retrieved: 3
[06-May-2025 14:48:50 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 14:48:50 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 14:53:25 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:53:25 UTC] Number of transportation bookings retrieved: 4
[06-May-2025 14:53:25 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:53:25 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:53:28 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:53:28 UTC] Number of transportation bookings retrieved: 4
[06-May-2025 14:53:28 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:53:28 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 14:53:36 UTC] Transportation Bookings Query: SELECT tb.*, u.full_name as user_name, u.email as user_email 
        FROM transportation_bookings tb
        JOIN users u ON tb.user_id = u.id
        WHERE 1=1 ORDER BY tb.created_at DESC
[06-May-2025 14:53:36 UTC] Number of transportation bookings retrieved: 4
[06-May-2025 14:53:36 UTC] Transportation Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN price ELSE 0 END), 0) as total_revenue,
                   SUM(CASE WHEN transport_type = 'taxi' THEN 1 ELSE 0 END) as taxi_bookings,
                   SUM(CASE WHEN transport_type = 'rentacar' THEN 1 ELSE 0 END) as rentacar_bookings
                FROM transportation_bookings
[06-May-2025 14:53:36 UTC] Popular Vehicle Query: SELECT 
                     vehicle_type, 
                     COALESCE(COUNT(*), 0) as count
                  FROM transportation_bookings 
                  WHERE booking_status != 'cancelled'
                  GROUP BY vehicle_type 
                  ORDER BY count DESC 
                  LIMIT 5
[06-May-2025 18:15:13 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 18:15:13 UTC] Number of package bookings retrieved: 2
[06-May-2025 18:15:13 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 18:15:13 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[06-May-2025 18:15:35 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[06-May-2025 18:15:35 UTC] Number of package bookings retrieved: 2
[06-May-2025 18:15:35 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[06-May-2025 18:15:35 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[07-May-2025 07:53:52 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[07-May-2025 07:53:52 UTC] Number of package bookings retrieved: 2
[07-May-2025 07:53:52 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[07-May-2025 07:53:52 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[07-May-2025 07:53:56 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[07-May-2025 07:53:56 UTC] Number of package bookings retrieved: 2
[07-May-2025 07:53:56 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[07-May-2025 07:53:56 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
[07-May-2025 07:54:07 UTC] Package Bookings Query: SELECT pb.*, up.title as package_title, up.package_type, up.price as package_price, 
               u.full_name as user_name, u.email as user_email 
        FROM package_bookings pb
        JOIN umrah_packages up ON pb.package_id = up.id
        JOIN users u ON pb.user_id = u.id
        WHERE 1=1 ORDER BY pb.created_at DESC
[07-May-2025 07:54:07 UTC] Number of package bookings retrieved: 2
[07-May-2025 07:54:07 UTC] Package Stats Query: SELECT 
                   COUNT(*) as total,
                   SUM(CASE WHEN booking_status = 'pending' THEN 1 ELSE 0 END) as pending,
                   SUM(CASE WHEN booking_status = 'confirmed' THEN 1 ELSE 0 END) as confirmed,
                   SUM(CASE WHEN booking_status = 'cancelled' THEN 1 ELSE 0 END) as cancelled,
                   SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as payment_pending,
                   SUM(CASE WHEN payment_status = 'paid' THEN 1 ELSE 0 END) as payment_paid,
                   SUM(CASE WHEN payment_status = 'refunded' THEN 1 ELSE 0 END) as payment_refunded,
                   COALESCE(SUM(CASE WHEN payment_status = 'paid' THEN total_price ELSE 0 END), 0) as total_revenue,
                   COALESCE(SUM(num_travelers), 0) as total_travelers
                FROM package_bookings
[07-May-2025 07:54:07 UTC] Package Type Query: SELECT 
                     up.package_type,
                     COALESCE(COUNT(*), 0) as count
                  FROM package_bookings pb
                  JOIN umrah_packages up ON pb.package_id = up.id
                  WHERE pb.booking_status != 'cancelled'
                  GROUP BY up.package_type
